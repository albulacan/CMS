<app-client-nav></app-client-nav>

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
    <path fill="#6ca6e1" fill-opacity="1"
        d="M0,96L24,117.3C48,139,96,181,144,192C192,203,240,181,288,176C336,171,384,181,432,170.7C480,160,528,128,576,112C624,96,672,96,720,106.7C768,117,816,139,864,138.7C912,139,960,117,1008,117.3C1056,117,1104,139,1152,165.3C1200,192,1248,224,1296,250.7C1344,277,1392,299,1416,309.3L1440,320L1440,0L1416,0C1392,0,1344,0,1296,0C1248,0,1200,0,1152,0C1104,0,1056,0,1008,0C960,0,912,0,864,0C816,0,768,0,720,0C672,0,624,0,576,0C528,0,480,0,432,0C384,0,336,0,288,0C240,0,192,0,144,0C96,0,48,0,24,0L0,0Z">
    </path>
</svg>

<div class="container">
    <div class="row">
        <div class="col-12">
            <h3 class="text-info">My Reservations</h3>
        </div>
    </div>
    <br />
    <table class="table" [appBlockUi]="isProcessing">
        <thead>
            <tr>
                <th scope="col">Reference No</th>
                <th scope="col" class="large-screen-only">Date of Event</th>
                <th scope="col" class="large-screen-only">Time</th>
                <th scope="col" class="large-screen-only">Occasion</th>
                <th scope="col" class="large-screen-only">No of Pax</th>
                <th>Created On</th>
                <th scope="col">Status</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="!reservations?.length">
                <td class="text-center" colspan="7">No records found.</td>
            </tr>
            <tr *ngFor="let item of reservations">
                <td>
                    <button class="btn btn-link" (click)="view(item)">{{item.referenceNo}}</button>
                </td>
                <td class="large-screen-only">{{item.date | date: 'mediumDate'}}</td>
                <td class="large-screen-only">{{item.time}}</td>
                <td class="large-screen-only">{{item.occasion}}</td>
                <td class="large-screen-only">{{item.pax}}</td>
                <td>{{item.createdOn | date: 'medium'}}</td>
                <td>{{item.status}}</td>
            </tr>
        </tbody>
    </table>
</div>

<section style="background-color: #5e72e4;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path fill="#5e72e4 " fill-opacity="1"
            d="M0,256L60,245.3C120,235,240,213,360,192C480,171,600,149,720,165.3C840,181,960,235,1080,245.3C1200,256,1320,224,1380,208L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z">
        </path>
    </svg>
    <div class="container text-white">
        <h1 class="display-5 text-center">Reservation Details</h1>
        <br />
        <div class="card">
            <div class="card-body text-dark text-left">

                <form [appBlockUi]="isProcessing">
                    <fieldset>
                        <div class="row">
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Reference No</label>
                                    <input type="text" class="form-control" name="refNo"
                                        [(ngModel)]="model.referenceNo" disabled>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Status</label>
                                    <input type="text" class="form-control" name="status" [(ngModel)]="model.status" disabled>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Venue</label>
                                    <input type="text" class="form-control" name="venue" placeholder="Venue"
                                        [(ngModel)]="model.venue" disabled>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Occasion</label>
                                    <input type="text" class="form-control" name="ocassion" placeholder="Occasion"
                                        [(ngModel)]="model.occasion" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>No of Pax</label>
                                    <input type="number" min="0" class="form-control" name="pax" placeholder="No of Pax"
                                        [(ngModel)]="model.pax" disabled>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Date of Event</label>
                                    <input type="text" class="form-control" name="date" placeholder="Date of Event"
                                        [(ngModel)]="model.date" disabled>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Time of Event</label>
                                    <input type="text" class="form-control" name="time" placeholder="Date of Event"
                                        [(ngModel)]="model.time" disabled>
                                    <small id="timeHelp" class="form-text text-muted font-italic">In 24 hour
                                        format.</small>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Table Service</label>
                                    <input type="text" class="form-control" name="tableservice"
                                        [(ngModel)]="model.tableService" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Event Motif</label>
                                    <input type="text" class="form-control" name="motif" placeholder="Motif"
                                        [(ngModel)]="model.motif" disabled>
                                    <small id="motifHelp" class="form-text text-muted font-italic">Color of your choice.
                                        Ex: Green</small>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Theme</label>
                                    <input type="text" class="form-control" name="theme" placeholder="Theme"
                                        [(ngModel)]="model.theme" disabled>
                                    <small id="themeHelp" class="form-text text-muted font-italic">Theme of your choice.
                                        Ex: Garden</small>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Payment Option</label>
                                    <input type="text" class="form-control" name="paymentoption"
                                        [(ngModel)]="model.paymentOption" disabled>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label>Payment Method</label>
                                    <input type="text" class="form-control" name="paymentMethod"
                                        [(ngModel)]="model.paymentMethod" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3" *ngIf="model.paymentMethod === 'Cash'">
                                <div class="form-group">
                                    <label>Appointment Date for Payment</label>
                                    <input type="text" class="form-control" name="aDate"
                                        [value]="model.appointmentDate | date:'mediumDate'" disabled>
                                </div>
                            </div>
                            <div class="col-lg-3" *ngIf="model.paymentMethod === 'Gcash'">
                                <div class="form-group">
                                    <label>Payment Amount</label>
                                    <input type="text" class="form-control" name="pAmount"
                                        [value]="model.payments[0]?.amount | number:'1.2-2'" disabled>
                                </div>
                            </div>
                            <div class="col-lg-3" *ngIf="model.paymentMethod === 'Gcash'">
                                <div class="form-group">
                                    <label>Proof of Payment</label>
                                    <div class="form-control">
                                        <button class="btn btn-link"
                                            (click)="download(model.payments[0])">Download</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </form>
                <br />
                <h4 class="text-info">Packages</h4>
                <table class="table table-striped">
                    <thead>
                        <th>Package Name</th>
                        <th>Package Description</th>
                        <th>Price</th>
                    </thead>
                    <tbody>
                        <tr *ngIf="!model?.packages?.length">
                            <td colspan="3" class="text-center font-italic">No packages added</td>
                        </tr>
                        <tr *ngFor="let item of model.packages; let i = index">
                            <td>{{item.name}}</td>
                            <td [innerText]="item.description"></td>
                            <td><strong>P {{item.price | number: '1.2-2'}}</strong></td>
                        </tr>
                    </tbody>
                </table>
                <br />
                <h4 class="text-info">Menus</h4>
                <table class="table table-striped">
                    <thead>
                        <th>Name</th>
                        <th class="large-screen-only">Menu Description</th>
                        <th>Qty</th>
                        <th>Price</th>
                    </thead>
                    <tbody>
                        <tr *ngIf="!model?.menus?.length">
                            <td colspan="4" class="text-center font-italic">No menus added</td>
                        </tr>
                        <tr *ngFor="let item of model.menus; let i = index">
                            <td>{{item.name}}</td>
                            <td class="large-screen-only" [innerText]="item.description"></td>
                            <td>{{item.quantity}}</td>
                            <td><strong>P {{item.price | number: '1.2-2'}}</strong></td>
                        </tr>
                    </tbody>
                </table>
                <br />
                <p><strong>Total Items: {{totalItems}}</strong></p>
                <p><strong>Total Amount Due: P {{model.amountDue | number: '1.2-2'}}</strong></p>
                <p><strong>Total Amount Paid: P {{model.amountPaid | number: '1.2-2'}}</strong></p>
            </div>
        </div>
    </div>
    <br />
    <br />
    <br />
    <br />
</section>

<app-footer></app-footer>